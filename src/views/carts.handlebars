<link rel="stylesheet" href="/css/style.css" />
<div class="cart-container">
  <h1 class="text-center">Shopping Cart</h1>

  <div class="container">
    {{#each products}}
      <div class="card mb-3">
        <div class="card-body">
          <h5 class="card-title">Product: {{this.product.title}}</h5>
          <p class="card-text">Quantity: {{this.quantity}}</p>
          <p class="card-text">Price: ${{this.product.totalPrice}}</p>
          <button
            onclick="deleteProduct('{{this.cartId}}', '{{this.product._id}}')"
            class="btn btn-danger"
          >Delete</button>
        </div>
      </div>
    {{/each}}
  </div>

  <button onclick="clearCart('{{cartId}}')" class="btn btn-danger">Empty Cart</button>
  <h3 class="mt-2">Total Purchase: ${{totalPurchase}}</h3>
  <form method="post" action="/api/carts/{{cartId}}/purchase">
    <button type="submit" class="btn btn-success">Complete Purchase</button>
  </form>
</div>

<script src="../../public/js/cart.js"></script>